<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Grade Curricular - Engenharia Mec√¢nica UFR</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body class="dark">
    <div id="top-buttons">
      <button id="btn-popup">Requisitos de Conclus√£o</button>
      <button id="btn-compact">Expandir Visualiza√ß√£o</button>
      <button id="btn-export">Exportar / Imprimir</button>
      <button id="btn-reset">Resetar Tudo</button>
    </div>

    <!-- Barra de Legenda (Item "Conclu√≠da" removido) -->
    <div id="legend-bar">
      <div class="legend-item"><span class="color-box selected"></span> Selecionada</div>
      <div class="legend-item"><span class="color-box pre"></span> Pr√©-requisito (Necess√°rio)</div>
      <div class="legend-item"><span class="color-box core"></span> Libera (Pr√≥xima)</div>
    </div>

    <div id="popup-overlay" class="hidden"></div>

    <!-- Popup: Requisitos -->
    <div id="requirements-popup" class="popup hidden">
      <h2>Requisitos de Conclus√£o</h2>
      <div id="popup-content"></div>
      <button class="close-popup">Fechar</button>
    </div>
    
    <!-- Popup: Exporta√ß√£o -->
    <div id="export-popup" class="popup hidden">
        <h2>Exportar Grade Curricular</h2>
        <p>Escolha o formato desejado:</p>
        
        <div class="export-section">
            <h3>üñ®Ô∏è Visualiza√ß√£o (PDF)</h3>
            <p>Gera um arquivo PDF com o visual atual da sua grade.</p>
            <button id="btn-print-pdf">Imprimir / Salvar como PDF</button>
        </div>

        <div class="export-section">
            <h3>üìä Dados (Excel/CSV)</h3>
            <p>Baixa uma planilha com os dados das disciplinas.</p>
            <div class="export-options">
                <button data-export-type="pending">Pendentes (.csv)</button>
                <button data-export-type="completed">Conclu√≠das (.csv)</button>
                <button data-export-type="all">Tudo (.csv)</button>
            </div>
        </div>
        <button class="close-popup cancel-btn">Cancelar</button>
    </div>

    <!-- Popup: Confirma√ß√£o de Reset -->
    <div id="reset-popup" class="popup hidden">
        <h2>Resetar Progresso?</h2>
        <p>Tem certeza que deseja apagar todo o seu progresso? Essa a√ß√£o n√£o pode ser desfeita.</p>
        <div class="popup-actions">
            <button id="confirm-reset" class="btn-danger">Sim, Resetar</button>
            <button class="close-popup">Cancelar</button>
        </div>
    </div>

    <!-- Popup: Limite de Optativas -->
    <div id="optative-popup" class="popup hidden">
        <h2>Limite Atingido</h2>
        <p>Voc√™ j√° selecionou o limite de 2 disciplinas optativas espec√≠ficas.</p>
        <p class="small-text">Para marcar esta, desmarque outra optativa primeiro.</p>
        <button class="close-popup">Entendido</button>
    </div>

    <!-- Popup: Alerta de Pr√©-requisitos -->
    <div id="prereq-popup" class="popup hidden">
        <h2>Pr√©-requisitos Pendentes</h2>
        <p>Para cursar <strong id="prereq-target-name"></strong>, recomenda-se concluir:</p>
        <ul id="prereq-list"></ul>
        <div class="popup-actions">
            <button id="btn-force-complete" class="btn-warning">Marcar mesmo assim</button>
            <button class="close-popup">Cancelar</button>
        </div>
    </div>

    <header>
      <h1>
        <img src="https://raw.githubusercontent.com/SHAIDERWOW/matrizcurricular/refs/heads/main/club-penguin.gif" alt="Pinguim" class="header-gif">
        Grade Curricular - Engenharia Mec√¢nica
      </h1>
      <button id="dark-mode-toggle">Modo Claro</button>
    </header>

    <main>
      <div id="curricular-container"></div>
    </main>
    
    <script src="script.js"></script>
  </body>
</html>
